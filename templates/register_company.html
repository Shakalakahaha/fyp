<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register Company - Churn Buster</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/register_company.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header>
        <div class="container">
            <nav class="navbar">
                <a href="{{ url_for('index') }}" class="logo">Churn Buster</a>
                <ul class="nav-links">
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle">Register <i class="fas fa-chevron-down"></i></a>
                        <div class="dropdown-menu">
                            <a href="{{ url_for('register_company') }}" class="dropdown-item">
                                <i class="fas fa-building"></i>
                                <div>
                                    <strong>Company</strong>
                                    <span>Register your organization</span>
                                </div>
                            </a>
                            <a href="{{ url_for('register_user') }}" class="dropdown-item">
                                <i class="fas fa-user"></i>
                                <div>
                                    <strong>User</strong>
                                    <span>Create personal account</span>
                                </div>
                            </a>
                        </div>
                    </li>
                    <li><a href="{{ url_for('login') }}" class="btn btn-outline">Login</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="main-content">
        <div class="container">
            <div class="registration-card">
                <div class="card-header">
                    <h2>Register Your Company</h2>
                    <p>Create an account to get started with Churn Buster</p>
                </div>
                
                <div class="step-indicator step-1-active">
                    <div class="step active" data-step="1">
                        <div class="step-number">1</div>
                        <div class="step-title">Company Info</div>
                    </div>
                    <div class="step" data-step="2">
                        <div class="step-number">2</div>
                        <div class="step-title">Verification</div>
                    </div>
                    <div class="step" data-step="3">
                        <div class="step-number">3</div>
                        <div class="step-title">Complete</div>
                    </div>
                </div>
                
                <!-- Step 1: Company Info -->
                <div class="form-step active" id="step-1">
                    <form id="company-registration-form">
                        <div class="input-group">
                            <label for="company-name">Company Name</label>
                            <div class="input-wrapper">
                                <i class="fas fa-building"></i>
                                <input type="text" id="company-name" name="company_name" placeholder="Enter your company name" required>
                            </div>
                            <div class="error" id="company-name-error">Please enter a valid company name</div>
                        </div>
                        
                        <div class="input-group">
                            <label for="company-email">Company Email</label>
                            <div class="input-wrapper">
                                <i class="fas fa-envelope"></i>
                                <input type="email" id="company-email" name="company_email" placeholder="company@example.com" required>
                            </div>
                            <div class="error" id="company-email-error">Please enter a valid email address</div>
                        </div>
                        
                        <div class="form-buttons single-button">
                            <button type="button" class="btn btn-primary" id="next-to-verification">Continue</button>
                        </div>
                    </form>
                </div>
                
                <!-- Step 2: Verification -->
                <div class="form-step" id="step-2">
                    <div class="verification-message">
                        <i class="fas fa-envelope-open-text"></i>
                        <h3>Verification Code Sent</h3>
                        <p>We've sent a verification code to <strong id="email-display"></strong></p>
                    </div>
                    
                    <div class="verification-code-container">
                        <input type="text" class="verification-code-input" maxlength="1" pattern="[0-9]" inputmode="numeric">
                        <input type="text" class="verification-code-input" maxlength="1" pattern="[0-9]" inputmode="numeric">
                        <input type="text" class="verification-code-input" maxlength="1" pattern="[0-9]" inputmode="numeric">
                        <input type="text" class="verification-code-input" maxlength="1" pattern="[0-9]" inputmode="numeric">
                        <input type="text" class="verification-code-input" maxlength="1" pattern="[0-9]" inputmode="numeric">
                        <input type="text" class="verification-code-input" maxlength="1" pattern="[0-9]" inputmode="numeric">
                    </div>
                    
                    <div class="resend-code">
                        <button id="resend-code-btn">Resend Code</button>
                        <div class="timer" id="resend-timer">Resend in <span id="timer-count">60</span> seconds</div>
                    </div>
                    
                    <div class="form-buttons single-button">
                        <button type="button" class="btn btn-primary" id="verify-code" disabled>Verify</button>
                    </div>
                </div>
                
                <!-- Step 3: Success -->
                <div class="form-step" id="step-3">
                    <div class="success-message">
                        <div class="success-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        
                        <h3>Registration Successful!</h3>
                        <p>Your company has been registered successfully. Your Company ID is:</p>
                        
                        <div class="company-id-display">
                            <input type="text" id="company-id" readonly>
                            <button id="copy-id" title="Copy to clipboard"><i class="fas fa-copy"></i></button>
                        </div>
                        
                        <p class="info-text">Please save this Company ID as it will be required for your users to register.</p>
                    </div>
                    
                    <div class="form-buttons single-button">
                        <a href="{{ url_for('login') }}" class="btn btn-primary">Proceed to Login</a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="{{ url_for('static', filename='js/register_company.js') }}"></script>
</body>
</html> 